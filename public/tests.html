<html>
<head>
    <script type="text/javascript" src="javascripts/helper.js"></script>
    <script type="text/javascript" src="javascripts/learning.js"></script>
    <script type="text/javascript" src="javascripts/classification.js"></script>
    <script type="text/javascript" src="javascripts/validation.js"></script>
    <script type="text/javascript" src="javascripts/localsearch.js"></script>
</head>
<body>

<div id="result"></div>


<script type="text/javascript">
    function test_print(str) {
        document.getElementById('result').innerHTML += str + " <br />";
    }

    var test_examples = [
        {'attrib1': 'yes', 'attrib2': 'yes', 'attrib3': 'yes', 'classification': 'b'},
        {'attrib1': 'no', 'attrib2': 'no', 'attrib3': 'no', 'classification': 'b'},
        {'attrib1': 'yes', 'attrib2': 'no', 'attrib3': 'no', 'classification': 'b'},
        {'attrib1': 'yes', 'attrib2': 'yes', 'attrib3': 'no', 'classification': 'a'},
        {'attrib1': 'no', 'attrib2': 'yes', 'attrib3': 'yes', 'classification': 'a'},
        {'attrib1': 'yes', 'attrib2': 'no', 'attrib3': 'yes', 'classification': 'a'},
        {'attrib1': 'yes', 'attrib2': 'yes', 'attrib3': 'no', 'classification': 'a'},
        {'attrib1': 'no', 'attrib2': 'no', 'attrib3': 'yes', 'classification': 'b'}
    ];

    var test_attrib = ['attrib1', 'attrib2', 'attrib3'];

    test_print('same_classification: ' + same_classification(test_examples));
    test_print('majority_value: ' + majority_value(test_examples));
    test_print('remove_attribute: ' + remove_attribute(test_attrib, 'attrib2'));
    test_print('test_attrib: ' + test_attrib);
    test_print('chose_attribute: (1) in the console');
    console.log(1);
    console.log(chose_attribute(test_attrib, test_examples));
    test_print('filter_based_on_attrib_value: (2) in the console');
    console.log(2);
    console.log(filter_based_on_attrib_value('yes', 'attrib1', test_examples));

    test_print('c4_5_simple: (3) in the console');
    console.log(3);
    var tree1 = c4_5_simple(test_examples, test_attrib, 'x');
    console.log(tree1);

    test_print('classify_record: (4) in the console');
    console.log(4);
    console.log(classify_record(tree1, {'attrib1': 'yes', 'attrib2': 'no', 'attrib3': 'yes'})); // ok
    console.log(classify_record(tree1, {'attrib1': 'yes', 'attrib2': 'no', 'attrib3': 'no'})); // wrong (c4.5 is not perfect)
    console.log(classify_record(tree1, {'attrib1': 'no', 'attrib2': 'no', 'attrib3': 'yes'})); // ok


    test_print('prism_simple: (5) in the console');
    console.log(5);
    var tree2 = prism_simple(test_examples, test_attrib, 'x');
    console.log(tree2);

    test_print('classify_record: (6) in the console');
    console.log(6);
    console.log(classify_record(tree2, {'attrib1': 'yes', 'attrib2': 'no', 'attrib3': 'yes'})); // ok
    console.log(classify_record(tree2, {'attrib1': 'yes', 'attrib2': 'no', 'attrib3': 'no'})); // ok (prism is perfect)
    console.log(classify_record(tree2, {'attrib1': 'no', 'attrib2': 'no', 'attrib3': 'yes'})); // ok

    var test_set = [
        {'attrib1': 'yes', 'attrib2': 'no', 'attrib3': 'yes', "classification": "a"},
        {'attrib1': 'yes', 'attrib2': 'no', 'attrib3': 'no', "classification": "b"},
        {'attrib1': 'no', 'attrib2': 'no', 'attrib3': 'yes', "classification": "b"}
    ];

    test_print('base validation C4.5: ' + base_validation(test_examples, test_set, c4_5_simple));
    test_print('base validation PRISM: ' + base_validation(test_examples, test_set, prism_simple));

    test_print('cross validation C4.5: ' + cross_validation(test_examples, 3, c4_5_simple));
    test_print('cross validation PRISM: ' + cross_validation(test_examples, 3, prism_simple));

    test_print('simulated annealing on queens puzzle: ' + simulated_annealing_simple(queens_puzzle, example_options).toString());

</script>

</body>

</html>